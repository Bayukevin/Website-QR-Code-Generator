<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>QR Generator</title>
    <link rel="stylesheet" href="qrstyle.css" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/qrious/4.0.2/qrious.min.js"></script>
  </head>
  <body>
    <header>
      <div class="logo">
        <img src="/images/logo-qr.png" />
        <h1>QR GENERATE</h1>
      </div>
      <!-- Navbar -->
      <nav>
        <ul>
          <li><a href="/">BERANDA</a></li>
          <li><a href="#skils">TENTANG</a></li>
          <li><a href="/#container-step">BANTUAN</a></li>
        </ul>
      </nav>
    </header>
    <div id="body">
      <div class="content">
        <h1>QR Code Generator</h1>
        <div class="border-qr" id="border-qr">
          <canvas id="qr-panel"></canvas>
        </div>

        <div id="form-qr">
          <input type="text" placeholder="Masukkan link disini" id="qr-input" />
          <button id="generate-btn">Generate</button>
        </div>
        <div class="btn-download" id="dwn">
          <!-- <a href="canvas" download>Download</a> -->
          <!-- <button class="btn-download-img">Download</button> -->
        </div>
      </div>
    </div>

    <script>
      let qrPanel = document.querySelector("#qr-panel");
      let qrBtn = document.querySelector("#generate-btn");
      let qrInput = document.querySelector("#qr-input");
      let borderQr = document.querySelector("#border-qr");
      var x = document.getElementById("dwn");

      // QRCODE
      qrBtn.addEventListener("click", () => {
        if (!qrInput.value) {
          context = qrPanel.getContext("2d");
          make_base();
          function make_base() {
            base_image = new Image();
            base_image.src = "/images/404.jpg";
            base_image.onload = function () {
              context.drawImage(base_image, 0, 0, 300, 300);
            };
          }
          console.log("ksoso");
          borderQr.style.borderColor = "red";
        } else {
          borderQr.style.borderColor = "#54bb8c";
          x.style.display = "block";
          new QRious({
            element: qrPanel,
            value: qrInput.value,
            size: 300,
          });
        }
      });
    </script>
  </body>
</html>
